<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Interpolation · OceanTools.jl</title><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.0/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.11.1/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script></head><body><div id="documenter"><nav class="docs-sidebar"><div class="docs-package-name"><span class="docs-autofit">OceanTools.jl</span></div><form class="docs-search" action="../search/"><input class="docs-search-query" id="documenter-search-query" name="q" type="text" placeholder="Search docs"/></form><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../loading_data/">Loading NetCDF datafiles</a></li><li class="is-active"><a class="tocitem" href>Interpolation</a><ul class="internal"><li><a class="tocitem" href="#Velocity-fields"><span>Velocity fields</span></a></li><li><a class="tocitem" href="#Scalar-fields"><span>Scalar fields</span></a></li><li><a class="tocitem" href="#Gradients"><span>Gradients</span></a></li><li><a class="tocitem" href="#Velocity-fields-deriving-from-sea-surface-heights/Hamiltonians"><span>Velocity fields deriving from sea surface heights/Hamiltonians</span></a></li><li><a class="tocitem" href="#Solving-the-linearized-flow-map"><span>Solving the linearized flow map</span></a></li><li><a class="tocitem" href="#Boundary-Behaviour"><span>Boundary Behaviour</span></a></li><li class="toplevel"><a class="tocitem" href="#Constructing-an-ItpMetadata-object-by-hand"><span>Constructing an ItpMetadata object by hand</span></a></li><li class="toplevel"><a class="tocitem" href="#Interpolation-on-regular-grids-in-4D"><span>Interpolation on regular grids in 4D</span></a></li></ul></li><li><a class="tocitem" href="../example/">Example</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>Interpolation</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Interpolation</a></li></ul></nav><div class="docs-right"><a class="docs-edit-link" href="https://github.com/CoherentStructures/OceanTools.jl/blob/master/docs/src/interpolation.md" title="Edit on GitHub"><span class="docs-icon fab"></span><span class="docs-label is-hidden-touch">Edit on GitHub</span></a><a class="docs-settings-button fas fa-cog" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-sidebar-button fa fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a></div></header><article class="content" id="documenter-page"><h1 id="Interpolation-on-regular-grids-in-3D"><a class="docs-heading-anchor" href="#Interpolation-on-regular-grids-in-3D">Interpolation on regular grids in 3D</a><a id="Interpolation-on-regular-grids-in-3D-1"></a><a class="docs-heading-anchor-permalink" href="#Interpolation-on-regular-grids-in-3D" title="Permalink"></a></h1><p>Once you have constructed an ItpMetdata object <code>p</code> (e.g. using <code>read_ocean_velocities</code>, or by hand (see below), you can interpolate the underlying scalar/velocity field.</p><p>To do so, call <code>fun(u,p,t)</code> where <code>fun</code> is one of the functions below. Here <code>u</code> are the spatial coordinates and <code>t</code> is the time.</p><h2 id="Velocity-fields"><a class="docs-heading-anchor" href="#Velocity-fields">Velocity fields</a><a id="Velocity-fields-1"></a><a class="docs-heading-anchor-permalink" href="#Velocity-fields" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="OceanTools.uv_tricubic" href="#OceanTools.uv_tricubic"><code>OceanTools.uv_tricubic</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">uv_tricubic(u, p, t)</code></pre><p>Component wise tricubic inuerpolation (Leikien-Marsden + finite differences for values not specified in their paper) of velocity field at <code>u</code> at time <code>t</code>. Velocity field stored in <code>p.data[1]</code> and <code>p.data[2]</code>.</p></div></section></article><article class="docstring"><header><a class="docstring-binding" id="OceanTools.uv_trilinear" href="#OceanTools.uv_trilinear"><code>OceanTools.uv_trilinear</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">uv_trilinear(u, p, t)</code></pre><p>Trilinear interpolation of velocity field at <code>u</code> at time <code>t</code>. Velocity field stored in <code>p.data[1]</code> and <code>p.data[2]</code>.</p></div></section></article><h2 id="Scalar-fields"><a class="docs-heading-anchor" href="#Scalar-fields">Scalar fields</a><a id="Scalar-fields-1"></a><a class="docs-heading-anchor-permalink" href="#Scalar-fields" title="Permalink"></a></h2><div class="admonition is-warning"><header class="admonition-header">Missing docstring.</header><div class="admonition-body"><p>Missing docstring for <code>scalar_trilinear</code>. Check Documenter&#39;s build log for details.</p></div></div><article class="docstring"><header><a class="docstring-binding" id="OceanTools.scalar_tricubic" href="#OceanTools.scalar_tricubic"><code>OceanTools.scalar_tricubic</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">scalar_tricubic(x, p, t)</code></pre><p>Tricubic interpolation (Leikien-Marsden + finite differences for values not specified in their paper) of scalar field at <code>u</code> at time <code>t</code>. Scalar field stored in <code>p.data[1]</code></p></div></section></article><h2 id="Gradients"><a class="docs-heading-anchor" href="#Gradients">Gradients</a><a id="Gradients-1"></a><a class="docs-heading-anchor-permalink" href="#Gradients" title="Permalink"></a></h2><p>There is support for calculating gradients of the interpolants in the spatial dimensions.</p><article class="docstring"><header><a class="docstring-binding" id="OceanTools.scalar_tricubic_gradient" href="#OceanTools.scalar_tricubic_gradient"><code>OceanTools.scalar_tricubic_gradient</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">scalar_tricubic_gradient(u,p,t)</code></pre><p>Calculates the (spatial) gradient of the function used in scalar_tricubic</p></div></section></article><p>This function has not been extensively tested/used.</p><h2 id="Velocity-fields-deriving-from-sea-surface-heights/Hamiltonians"><a class="docs-heading-anchor" href="#Velocity-fields-deriving-from-sea-surface-heights/Hamiltonians">Velocity fields deriving from sea surface heights/Hamiltonians</a><a id="Velocity-fields-deriving-from-sea-surface-heights/Hamiltonians-1"></a><a class="docs-heading-anchor-permalink" href="#Velocity-fields-deriving-from-sea-surface-heights/Hamiltonians" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="OceanTools.ssh_rhs" href="#OceanTools.ssh_rhs"><code>OceanTools.ssh_rhs</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">ssh_rhs(u,p,t)</code></pre><p>Approximating geostrophic sea-surface velocities with the well-known formula</p><p class="math-container">\[u = -A(y)\partial_y h(x,y,t)\ v = A(y)\partial_x h(x,y,t)\]</p><p>where:</p><ul><li><code>u</code> – longitudinal component of the velocity,</li><li><code>v</code> – latitudinal component of the velocity,</li><li><code>x</code> – longitude,</li><li><code>y</code> – latitude,</li><li><code>h</code> – sea-surface height.</li></ul><p>and <code>math A(y) = g/(R^2 2 \Omega \sin y)</code></p></div></section></article><p>This function has not been extensively tested/used.</p><h2 id="Solving-the-linearized-flow-map"><a class="docs-heading-anchor" href="#Solving-the-linearized-flow-map">Solving the linearized flow map</a><a id="Solving-the-linearized-flow-map-1"></a><a class="docs-heading-anchor-permalink" href="#Solving-the-linearized-flow-map" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-binding" id="OceanTools.uv_tricubic_eqvari" href="#OceanTools.uv_tricubic_eqvari"><code>OceanTools.uv_tricubic_eqvari</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">uv_tricubic_eqvari(u,p,t)</code></pre><p>The rhs for solving the linearized flow of the vector field (u,v) with CoherentStructures.jl</p></div></section></article><p>This function has not been extensively tested/used.</p><h2 id="Boundary-Behaviour"><a class="docs-heading-anchor" href="#Boundary-Behaviour">Boundary Behaviour</a><a id="Boundary-Behaviour-1"></a><a class="docs-heading-anchor-permalink" href="#Boundary-Behaviour" title="Permalink"></a></h2><p>The boundary behaviour in each direction is specified using <code>p.boundaryX</code>,<code>p.boundaryY</code>, and <code>p.boundaryT</code>. Conceptually speaking, the grid is extended to an infinite grid and interpolation is then performed on this grid.</p><p>The value <code>flat</code> means that grid points outside the original grid are assigned the value of the closest point nt the original grid.</p><p>The value <code>outofbounds</code> means that values outside raise an error whenever they are accessed for interpolation. Note that this means that some values that lie within the spatial bounds of the original grid will raise an error because interpolation also requires <em>nearby</em> points.</p><p>The value <code>periodic</code> means that the grid is extended periodically in that direction. </p><p>The value <code>semiperiodic</code> means that the grid is extended periodically (with a given periodic), but that there can be &quot;missing&quot; values in between. For example, the case LL = [350,10,0] and UR = [10,20,10]  with <code>p.boundaryY=semiperiodic</code> corresponds to the case where values are present for a small part of the globe. Evaluating at an x coordinate of 0 (or any other multiple of 360) works (provided that the values of <code>y</code> and <code>t</code> are inbounds. However, evaluating at an x-coordinate of 180 would raise an error.</p><h1 id="Constructing-an-ItpMetadata-object-by-hand"><a class="docs-heading-anchor" href="#Constructing-an-ItpMetadata-object-by-hand">Constructing an ItpMetadata object by hand</a><a id="Constructing-an-ItpMetadata-object-by-hand-1"></a><a class="docs-heading-anchor-permalink" href="#Constructing-an-ItpMetadata-object-by-hand" title="Permalink"></a></h1><p>The easiest way to do this is to call the constructor <code>ItpMetadata(xspan,yspan,tspan, data, boundaryX,boundarY,boundaryT)</code>. Here <code>xspan</code>, <code>yspan</code> and <code>tspan</code> are ranges that correspond to the values of the coordinates at the datapoints. For example, if you have a <span>$2\pi$</span> periodic grid with <span>$10$</span> points in each direction, these should all be <code>range(0,stop=2\pi,length=11)[1:end-1]</code>.</p><p>The argument <code>data</code> is either (a) a 1-tuple containing a 3d array like object of the values at grid points or (b) a 2-tuple containing two 3d array like objects of values at grid points. Orderin should be in the form <code>array_like_object[x_index,y_index,t_index]</code> and with column-major layout. The case (a) is if you want to interpolate scalars, (b) is if you want to interpolate vectors (i.e. time-dependent spatial velocity fields)</p><h1 id="Interpolation-on-regular-grids-in-4D"><a class="docs-heading-anchor" href="#Interpolation-on-regular-grids-in-4D">Interpolation on regular grids in 4D</a><a id="Interpolation-on-regular-grids-in-4D-1"></a><a class="docs-heading-anchor-permalink" href="#Interpolation-on-regular-grids-in-4D" title="Permalink"></a></h1><p>So far, only quad-linear interpolation is supported.</p><article class="docstring"><header><a class="docstring-binding" id="OceanTools.uv_quadlinear" href="#OceanTools.uv_quadlinear"><code>OceanTools.uv_quadlinear</code></a> — <span class="docstring-category">Function</span></header><section><div><pre><code class="language-julia">uv_quadlinear(u, p, t)</code></pre><p>Quadlinear interpolation of velocity field at <code>u</code> at time <code>t</code>.</p></div></section></article><p>This function has not been extensively tested/used.</p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../loading_data/">« Loading NetCDF datafiles</a><a class="docs-footer-nextpage" href="../example/">Example »</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> on <span class="colophon-date" title="Monday 30 November 2020 08:26">Monday 30 November 2020</span>. Using Julia version 1.5.3.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
